import{i as v,k as y,r as m,m as C,j as e,o as w,a3 as k,a4 as S,at as O,p as z,B as i,a2 as j,P as p,b as A,b7 as B}from"./index-DE3WvtMD.js";import{C as E}from"./circle-check-L_0MTdEX.js";import{B as g}from"./building-2-Di7O9HAg.js";import{A as F}from"./arrow-left-CBn638CS.js";const f=[{id:1,title:"Create Organization",description:"Set up your business profile",icon:g,completed:!1},{id:2,title:"Upload Documents",description:"Add your license and COA",icon:j,completed:!1},{id:3,title:"First Listing",description:"Create your first product listing",icon:p,completed:!1}];function R(){const c=v(),{user:r}=y(),[a,d]=m.useState(1),[l,x]=m.useState(f),{data:o}=C({queryKey:["/api/seller/organization"],enabled:!!r&&r.role==="seller",retry:!1,refetchOnWindowFocus:!1});m.useEffect(()=>{r&&r.role!=="seller"&&c("/dashboard")},[r,c]),m.useEffect(()=>{o&&(o!=null&&o.id)&&(x(s=>s.map(t=>t.id===1?{...t,completed:!0}:t)),a===1&&d(2))},[o,a]);const u=s=>{x(t=>t.map(h=>h.id===s?{...h,completed:!0}:h)),s<f.length?d(s+1):c("/dashboard")},N=()=>{c("/dashboard")},n=l.find(s=>s.id===a),b=l.filter(s=>s.completed).length;return r?e.jsx("div",{className:"min-h-screen bg-[#f9fbe7] p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-[#173c1e] mb-2",children:["Welcome to Izenzo, ",r.fullName,"!"]}),e.jsx("p",{className:"text-[#173c1e]/70",children:"Let's get your seller account set up in just a few steps"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between items-center",children:l.map((s,t)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`
                  flex items-center justify-center w-10 h-10 rounded-full border-2 
                  ${s.completed?"bg-[#a8c566] border-[#a8c566] text-white":s.id===a?"border-[#a8c566] text-[#a8c566]":"border-gray-300 text-gray-400"}
                `,children:s.completed?e.jsx(E,{className:"w-6 h-6"}):e.jsx("span",{className:"text-sm font-semibold",children:s.id})}),t<l.length-1&&e.jsx("div",{className:`
                    w-16 h-0.5 mx-2 
                    ${s.completed?"bg-[#a8c566]":"bg-gray-300"}
                  `})]},s.id))}),e.jsx("div",{className:"flex justify-between mt-2",children:l.map(s=>e.jsx("div",{className:"text-center",style:{minWidth:"120px"},children:e.jsx("p",{className:"text-xs text-[#173c1e]/70 font-medium",children:s.title})},s.id))})]}),e.jsxs(w,{className:"mb-6",children:[e.jsxs(k,{children:[e.jsx(S,{className:"flex items-center text-[#173c1e]",children:n&&e.jsxs(e.Fragment,{children:[e.jsx(n.icon,{className:"w-6 h-6 mr-2"}),n.title]})}),e.jsx(O,{children:n==null?void 0:n.description})]}),e.jsxs(z,{className:"space-y-4",children:[a===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[#173c1e]/70",children:"Create your organization profile to start selling on Izenzo. This will be your business identity on the platform."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(i,{onClick:()=>c("/organizations/create"),className:"bg-[#173c1e] text-white hover:bg-[#173c1e]/90",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Create Organization"]}),e.jsx(i,{variant:"outline",onClick:()=>{x(s=>s.map(t=>t.id===1?{...t,completed:!0}:t)),d(2)},className:"border-[#173c1e]/20",children:"I already have an organization"})]})]}),a===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[#173c1e]/70",children:"Upload your business license and Certificate of Analysis (COA) to verify your business credentials."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(i,{onClick:()=>c("/documents/upload"),className:"bg-[#173c1e] text-white hover:bg-[#173c1e]/90",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Upload Documents"]}),e.jsx(i,{variant:"outline",onClick:()=>u(2),className:"border-[#173c1e]/20",children:"Skip for now"})]})]}),a===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[#173c1e]/70",children:"Create your first product listing to start attracting buyers to your cannabis products."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(i,{onClick:()=>c("/listings/create"),className:"bg-[#173c1e] text-white hover:bg-[#173c1e]/90",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Create First Listing"]}),e.jsx(i,{variant:"outline",onClick:()=>u(3),className:"border-[#173c1e]/20",children:"I'll do this later"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(i,{variant:"ghost",onClick:()=>d(Math.max(1,a-1)),disabled:a===1,className:"text-[#173c1e]/70",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(A,{variant:"secondary",className:"bg-[#a8c566]/20 text-[#173c1e]",children:[b," of ",l.length," completed"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",onClick:N,className:"border-[#173c1e]/20 text-[#173c1e]/70",children:"Skip Onboarding"}),e.jsxs(i,{onClick:()=>d(Math.min(l.length,a+1)),disabled:a===l.length,className:"bg-[#173c1e] text-white hover:bg-[#173c1e]/90",children:["Next",e.jsx(B,{className:"w-4 h-4 ml-2"})]})]})]})]})}):null}export{R as default};
