import{c as p,r as u,j as e,a as j,B as n,C as Y,b as g,T as G,d as H,e as K,f as W,U as oe,g as de,h as xe,u as me,i as he,k as ue,l as pe,m as X,n as J,M as E,L as $,o as R,p as _,S as ee,q as ge,s as je,t as F,v as V,w as ve,P as fe,D as ye,I as be,x as Ne,y as se,A as we,z as Ce,E as ke,F as ae,G as Se}from"./index-DE3WvtMD.js";import{T as ze}from"./textarea-DxM8kpuO.js";import{D as le,a as ie,b as Me,c as Te,d as Le,e as Pe,f as Ie}from"./dialog-BEaSUMTJ.js";import{D as Oe}from"./download-CIyHHug6.js";import{S as M}from"./shield-check-DSy28J7y.js";import{A as te}from"./arrow-left-CBn638CS.js";import{C as De}from"./calendar-DiUGKtnE.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=p("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=p("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=p("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=p("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=p("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=p("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=p("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=p("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=p("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=p("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Ue({images:r,productName:c,className:h}){const[d,o]=u.useState(0),[a,m]=u.useState(!1),[x,y]=u.useState(1),[B,C]=u.useState(0),[s,T]=u.useState({x:0,y:0}),[L,l]=u.useState(!1),[P,k]=u.useState({x:0,y:0}),S=u.useRef(null);if(!r.length)return e.jsx("div",{className:j("bg-gray-100 rounded-lg flex items-center justify-center h-96",h),children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg mx-auto mb-4 flex items-center justify-center",children:e.jsx(Package,{size:32})}),e.jsx("p",{children:"No images available"})]})});const I=()=>{y(t=>Math.min(t*1.5,5))},O=()=>{y(t=>Math.max(t/1.5,.5))},z=()=>{C(t=>(t+90)%360)},b=()=>{y(1),C(0),T({x:0,y:0})},D=t=>{x>1&&(l(!0),k({x:t.clientX-s.x,y:t.clientY-s.y}))},Q=t=>{L&&x>1&&T({x:t.clientX-P.x,y:t.clientY-P.y})},A=()=>{l(!1)},U=async()=>{if(navigator.share)try{await navigator.share({title:c,text:`Check out this ${c}`,url:window.location.href})}catch(t){console.log("Error sharing:",t)}else navigator.clipboard.writeText(window.location.href)},N=()=>{const t=document.createElement("a");t.href=r[d],t.download=`${c}-image-${d+1}.jpg`,t.click()},w=()=>{o(t=>(t+1)%r.length),b()},q=()=>{o(t=>(t-1+r.length)%r.length),b()};return e.jsxs("div",{className:j("space-y-4",h),children:[e.jsx("div",{className:"relative bg-white rounded-lg border overflow-hidden group",children:e.jsxs("div",{className:"aspect-square relative",children:[e.jsx("img",{src:r[d],alt:`${c} - Image ${d+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300",children:[e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{size:"sm",variant:"secondary",onClick:()=>m(!0),className:"bg-white/90 hover:bg-white",children:e.jsx(qe,{size:16})}),e.jsx(n,{size:"sm",variant:"secondary",onClick:U,className:"bg-white/90 hover:bg-white",children:e.jsx(Re,{size:16})})]}),r.length>1&&e.jsxs("div",{className:"absolute inset-y-0 left-0 right-0 flex items-center justify-between px-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{size:"sm",variant:"secondary",onClick:q,className:"rounded-full bg-white/90 hover:bg-white",disabled:r.length<=1,children:e.jsx(re,{size:16})}),e.jsx(n,{size:"sm",variant:"secondary",onClick:w,className:"rounded-full bg-white/90 hover:bg-white",disabled:r.length<=1,children:e.jsx(Y,{size:16})})]})]}),r.length>1&&e.jsxs(g,{className:"absolute bottom-4 left-4 bg-black/70 text-white",children:[d+1," / ",r.length]})]})}),r.length>1&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.map((t,v)=>e.jsx("button",{onClick:()=>o(v),className:j("relative flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all",d===v?"border-[#a8c566] ring-2 ring-[#a8c566]/20":"border-gray-200 hover:border-gray-300"),children:e.jsx("img",{src:t,alt:`${c} thumbnail ${v+1}`,className:"w-full h-full object-cover"})},v))}),e.jsx(le,{open:a,onOpenChange:m,children:e.jsx(ie,{className:"max-w-5xl h-[90vh] p-0 overflow-hidden",children:e.jsxs("div",{className:"relative h-full bg-black",children:[e.jsxs("div",{className:"absolute top-4 left-4 right-4 z-10 flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{size:"sm",variant:"secondary",onClick:O,disabled:x<=.5,className:"bg-white/90 hover:bg-white",children:e.jsx(Qe,{size:16})}),e.jsx(n,{size:"sm",variant:"secondary",onClick:I,disabled:x>=5,className:"bg-white/90 hover:bg-white",children:e.jsx(Be,{size:16})}),e.jsx(n,{size:"sm",variant:"secondary",onClick:z,className:"bg-white/90 hover:bg-white",children:e.jsx($e,{size:16})}),e.jsx(n,{size:"sm",variant:"secondary",onClick:b,className:"bg-white/90 hover:bg-white",children:"Reset"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{className:"bg-black/70 text-white",children:[Math.round(x*100),"%"]}),e.jsx(n,{size:"sm",variant:"secondary",onClick:N,className:"bg-white/90 hover:bg-white",children:e.jsx(Oe,{size:16})})]})]}),e.jsx("div",{className:"h-full flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:D,onMouseMove:Q,onMouseUp:A,onMouseLeave:A,children:e.jsx("img",{ref:S,src:r[d],alt:`${c} - Zoomed view`,className:"max-h-full max-w-full object-contain transition-transform",style:{transform:`scale(${x}) rotate(${B}deg) translate(${s.x/x}px, ${s.y/x}px)`,cursor:x>1?L?"grabbing":"grab":"default"},onWheel:t=>{t.preventDefault(),t.deltaY<0?I():O()},draggable:!1})}),r.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:[e.jsx(n,{size:"sm",variant:"secondary",onClick:q,className:"bg-white/90 hover:bg-white rounded-full",children:e.jsx(re,{size:16})}),e.jsxs(g,{className:"bg-black/70 text-white px-3 py-1",children:[d+1," / ",r.length]}),e.jsx(n,{size:"sm",variant:"secondary",onClick:w,className:"bg-white/90 hover:bg-white rounded-full",children:e.jsx(Y,{size:16})})]})]})})})]})}const Ee=r=>({1:{level:"gold",score:4.8,badges:["verified","trusted_seller","fast_shipping","quality_guarantee"],trustScore:96,completedOrders:147,yearsActive:3,responseTime:"< 2 hours"},2:{level:"silver",score:4.5,badges:["verified","trusted_seller"],trustScore:87,completedOrders:68,yearsActive:2,responseTime:"< 4 hours"},3:{level:"platinum",score:4.9,badges:["verified","trusted_seller","fast_shipping","quality_guarantee","premium_supplier"],trustScore:98,completedOrders:289,yearsActive:5,responseTime:"< 1 hour"}})[r||1]||{level:"bronze",score:4,badges:["verified"],trustScore:75,completedOrders:12,yearsActive:1,responseTime:"< 8 hours"},Fe=r=>{const c={bronze:{color:"bg-amber-600",textColor:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200"},silver:{color:"bg-gray-400",textColor:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"},gold:{color:"bg-yellow-500",textColor:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},platinum:{color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}};return c[r]||c.bronze},Ve=r=>({verified:e.jsx(M,{size:12}),trusted_seller:e.jsx(ne,{size:12}),fast_shipping:e.jsx(xe,{size:12}),quality_guarantee:e.jsx(Z,{size:12}),premium_supplier:e.jsx(Ae,{size:12})})[r]||e.jsx(M,{size:12}),Ze=r=>({verified:"Verified Seller",trusted_seller:"Trusted by Community",fast_shipping:"Fast & Reliable",quality_guarantee:"Quality Guaranteed",premium_supplier:"Premium Supplier"})[r]||"Verified";function Ye({sellerId:r,sellerName:c,verification:h,variant:d="default",className:o}){const a=h||Ee(r),m=Fe(a.level);return d==="compact"?e.jsx(G,{children:e.jsxs(H,{children:[e.jsx(K,{children:e.jsxs(g,{className:j("inline-flex items-center gap-1 text-xs font-medium border",m.textColor,m.bgColor,m.borderColor,o),children:[e.jsx(M,{size:12}),a.level.charAt(0).toUpperCase()+a.level.slice(1)]})}),e.jsx(W,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:c||"Seller"}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Trust Score: ",a.trustScore,"/100"]})]})})]})}):d==="detailed"?e.jsxs("div",{className:j("bg-white rounded-lg border p-4 space-y-3",o),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Seller Verification"}),e.jsx(g,{className:j("text-xs font-medium border",m.textColor,m.bgColor,m.borderColor),children:a.level.charAt(0).toUpperCase()+a.level.slice(1)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:a.score})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Trust Score: ",a.trustScore,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.completedOrders}),e.jsxs("div",{className:"text-xs text-gray-600 flex items-center justify-center gap-1",children:[e.jsx(oe,{size:10}),"Orders"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[a.yearsActive,"y"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Active"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.responseTime}),e.jsxs("div",{className:"text-xs text-gray-600 flex items-center justify-center gap-1",children:[e.jsx(de,{size:10}),"Response"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Achievements"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.badges.map(x=>e.jsx(G,{children:e.jsxs(H,{children:[e.jsx(K,{children:e.jsx(g,{variant:"secondary",className:"text-xs bg-green-50 text-green-700 border-green-200 hover:bg-green-100",children:Ve(x)})}),e.jsx(W,{children:e.jsx("span",{className:"text-xs",children:Ze(x)})})]})},x))})]})]}):e.jsxs("div",{className:j("inline-flex items-center gap-3",o),children:[e.jsxs(g,{className:j("inline-flex items-center gap-1 text-xs font-medium border",m.textColor,m.bgColor,m.borderColor),children:[e.jsx(M,{size:12}),a.level.charAt(0).toUpperCase()+a.level.slice(1)," Seller"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"h-3 w-3 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:a.score}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",a.completedOrders," reviews)"]})]})]})}function ss(){const r=me(),c=parseInt(r.id),h=he(),{user:d}=ue(),{toast:o}=pe(),[a,m]=u.useState(1),[x,y]=u.useState(""),[B,C]=u.useState(!1),{data:s,isLoading:T,error:L}=X({queryKey:[`/api/listings/${c}`],staleTime:60*1e3}),{data:l,isLoading:P}=X({queryKey:["/api/users/"+((s==null?void 0:s.sellerId)||"")],enabled:!!(s!=null&&s.sellerId),staleTime:5*60*1e3}),k=J({mutationFn:async i=>await(await ae("POST","/api/orders",i)).json(),onSuccess:()=>{o({title:"Order created!",description:"Your order has been successfully placed."}),Se.invalidateQueries({queryKey:["/api/orders"]}),h("/orders")},onError:i=>{o({title:"Error creating order",description:i.message,variant:"destructive"})}}),S=J({mutationFn:async i=>await(await ae("POST","/api/messages",i)).json(),onSuccess:()=>{o({title:"Message sent!",description:"Your message has been sent to the seller."}),y(""),C(!1)},onError:i=>{o({title:"Error sending message",description:i.message,variant:"destructive"})}}),I=()=>{if(!d){o({title:"Authentication required",description:"Please log in to place an order",variant:"destructive"}),h("/auth");return}if(!s){o({title:"Error",description:"Listing information not available",variant:"destructive"});return}if(a<(s.minOrderQuantity||1)){o({title:"Invalid quantity",description:`Minimum order quantity is ${s.minOrderQuantity} ${s.unit}`,variant:"destructive"});return}k.mutate({listingId:c,quantity:a,sellerId:s.sellerId,totalPrice:a*s.pricePerUnit,notes:`Order for ${a} ${s.unit} of ${s.title}`})},O=()=>{if(!d){o({title:"Authentication required",description:"Please log in to send a message",variant:"destructive"}),h("/auth");return}if(!x.trim()){o({title:"Empty message",description:"Please enter a message",variant:"destructive"});return}if(!s){o({title:"Error",description:"Listing information not available",variant:"destructive"});return}S.mutate({receiverId:s.sellerId,content:x,relatedListingId:c})};if(T)return e.jsx(E,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx($,{className:"h-8 w-8 animate-spin text-primary"})})});if(L||!s)return e.jsx(E,{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-8 text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2",children:"Listing not found"}),e.jsx("p",{className:"text-neutral-600 mb-6",children:"The listing you're looking for doesn't exist or has been removed"}),e.jsxs(n,{onClick:()=>h("/listings"),children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Back to Listings"]})]})});const z=(s==null?void 0:s.status)||"active",b={active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",expired:"bg-neutral-100 text-neutral-800",draft:"bg-blue-100 text-blue-800"},D={active:"Available",pending:"Limited",sold:"Sold",expired:"Expired",draft:"Draft"},Q=b[z]||b.active,A=D[z]||D.active,U=(d==null?void 0:d.id)===(s==null?void 0:s.sellerId),N=z==="active"&&!U,w=(s==null?void 0:s.pricePerUnit)||0,q=a*w,t=s!=null&&s.specifications?Object.entries(s.specifications):[],v=(s==null?void 0:s.title)||"Product",ce=s!=null&&s.images&&s.images.length>0?s.images:[];return e.jsxs(E,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs(n,{variant:"ghost",onClick:()=>h("/listings"),className:"mb-4",children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Back to Listings"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(R,{children:e.jsxs(_,{className:"p-6",children:[e.jsx(Ue,{images:ce,productName:v,className:"mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-800",children:v}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx(g,{variant:"outline",className:`${Q} border-0 font-normal`,children:A}),e.jsxs("div",{className:"flex flex-col text-sm text-neutral-600",children:[e.jsx("span",{className:"font-medium",children:s!=null&&s.category?s.category.replace("-"," ").replace(/\b\w/g,i=>i.toUpperCase()):"Category not provided yet"}),(s==null?void 0:s.subcategory)&&e.jsxs("span",{className:"text-neutral-500",children:["→ ",s.subcategory]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-neutral-600",children:"Price"}),e.jsxs("div",{className:"text-3xl font-bold text-neutral-800",children:["$",w.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-neutral-600",children:["per ",(s==null?void 0:s.unit)||"unit"]})]})]}),e.jsx(ee,{}),e.jsxs(ge,{defaultValue:"description",children:[e.jsxs(je,{children:[e.jsx(F,{value:"description",children:"Description"}),e.jsx(F,{value:"specifications",children:"Specifications"}),e.jsx(F,{value:"shipping",children:"Shipping & Delivery"})]}),e.jsx(V,{value:"description",className:"p-4",children:e.jsx("p",{className:"text-neutral-600",children:(s==null?void 0:s.description)||"No description available."})}),e.jsx(V,{value:"specifications",className:"p-4",children:t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(([i,f])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-neutral-600",children:[i,":"]}),e.jsx("span",{className:"font-medium",children:f})]},i))}):e.jsx("p",{className:"text-neutral-600",children:"No specifications available for this product."})}),e.jsx(V,{value:"shipping",className:"p-4",children:e.jsx("p",{className:"text-neutral-600",children:"Shipping details are arranged after purchase. Contact the seller for specific shipping options and costs."})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"h-5 w-5 text-neutral-400 mr-2"}),e.jsxs("span",{className:"text-neutral-600",children:["Location: ",(s==null?void 0:s.location)||"Not specified"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"h-5 w-5 text-neutral-400 mr-2"}),e.jsxs("span",{className:"text-neutral-600",children:["Listed on: ",s!=null&&s.createdAt?new Date(s.createdAt).toLocaleDateString():"Recently"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-5 w-5 text-neutral-400 mr-2"}),e.jsxs("span",{className:"text-neutral-600",children:["Available quantity: ",(s==null?void 0:s.quantity)||0," ",(s==null?void 0:s.unit)||"units"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{className:"h-5 w-5 text-neutral-400 mr-2"}),e.jsxs("span",{className:"text-neutral-600",children:["Minimum order: ",(s==null?void 0:s.minOrderQuantity)||1," ",(s==null?void 0:s.unit)||"units"]})]})]})]})]})}),e.jsx(R,{children:e.jsxs(_,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-800 mb-4",children:"Features & Benefits"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-neutral-50 rounded-lg",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-full mb-3",children:e.jsx(_e,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"font-medium mb-2",children:"Fast Delivery"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Quick and efficient delivery options available"})]}),e.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-neutral-50 rounded-lg",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-full mb-3",children:e.jsx(M,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"font-medium mb-2",children:"Quality Guaranteed"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"All products undergo rigorous quality checks"})]}),e.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-neutral-50 rounded-lg",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-full mb-3",children:e.jsx(ne,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"font-medium mb-2",children:"Certified Product"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Meets industry standards and certifications"})]})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{children:e.jsxs(_,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-800 mb-4",children:"Purchase Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-neutral-600",children:["Price per ",(s==null?void 0:s.unit)||"unit",":"]}),e.jsxs("span",{className:"font-medium",children:["$",w.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-r-none",onClick:()=>m(Math.max((s==null?void 0:s.minOrderQuantity)||1,a-1)),disabled:!N||a<=((s==null?void 0:s.minOrderQuantity)||1),children:"-"}),e.jsx(be,{type:"number",min:(s==null?void 0:s.minOrderQuantity)||1,max:(s==null?void 0:s.quantity)||1,value:a,onChange:i=>m(parseInt(i.target.value)||(s==null?void 0:s.minOrderQuantity)||1),className:"h-8 w-16 rounded-none text-center",disabled:!N}),e.jsx(n,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-l-none",onClick:()=>m(Math.min((s==null?void 0:s.quantity)||1,a+1)),disabled:!N||a>=((s==null?void 0:s.quantity)||1),children:"+"})]})]}),e.jsx(ee,{}),e.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",q.toFixed(2)]})]}),e.jsxs(n,{className:"w-full bg-primary hover:bg-primary-dark text-white",disabled:!N||k.isPending,onClick:I,children:[k.isPending?e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Place Order"]}),e.jsxs(le,{open:B,onOpenChange:C,children:[e.jsx(Me,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"w-full",children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Contact Seller"]})}),e.jsxs(ie,{children:[e.jsxs(Te,{children:[e.jsx(Le,{children:"Message to Seller"}),e.jsx(Pe,{children:"Send a message to the seller about this listing."})]}),e.jsx(ze,{value:x,onChange:i=>y(i.target.value),placeholder:"Type your message here...",className:"min-h-32"}),e.jsx(Ie,{children:e.jsxs(n,{onClick:O,disabled:S.isPending,children:[S.isPending?e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(se,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})]}),e.jsx("p",{className:"text-xs text-neutral-600 text-center",children:"By placing an order, you agree to our Terms of Service and Privacy Policy."})]})]})}),P?e.jsx("div",{className:"flex justify-center p-4",children:e.jsx($,{className:"h-6 w-6 animate-spin text-primary"})}):l?e.jsx(R,{children:e.jsxs(_,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-800 mb-4",children:"Seller Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(we,{className:"h-10 w-10 mr-3",children:[e.jsx(Ce,{src:l.profileImage||void 0,alt:l.fullName||"Seller"}),e.jsx(ke,{children:l.fullName?l.fullName.split(" ").map(i=>i[0]).join("").toUpperCase():"S"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:l.fullName||"Seller"}),e.jsx("div",{className:"text-sm text-neutral-600",children:l.location||"Unknown location"})]})]}),e.jsx(Ye,{sellerId:l.id,sellerName:l.fullName||void 0,variant:"detailed"})]}),l.rating&&e.jsx("div",{className:"flex items-center mb-3",children:e.jsxs("div",{className:"flex items-center",children:[[...Array(Math.floor(l.rating))].map((i,f)=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 text-yellow-400",children:e.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})},f)),l.rating%1>=.5&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 text-yellow-400",children:e.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})}),[...Array(5-Math.ceil(l.rating))].map((i,f)=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-yellow-400",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})},f)),e.jsxs("span",{className:"ml-1 text-sm text-neutral-600",children:["(",l.rating.toFixed(1),")"]})]})}),l.company&&e.jsxs("div",{className:"text-sm text-neutral-600 mb-3",children:[e.jsx("span",{className:"font-medium",children:"Company:"})," ",l.company]}),l.isVerified&&e.jsx(g,{className:"bg-green-100 text-green-800 mb-3 border-0",children:"Verified Seller"}),e.jsx("div",{className:"space-y-2 mt-4",children:e.jsx(n,{variant:"outline",className:"w-full",onClick:()=>h(`/profile/${l.id}`),children:"View Seller Profile"})})]})}):null]})]})]})}export{ss as default};
